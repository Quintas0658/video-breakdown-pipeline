<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>è§†é¢‘æ‹†è§£ Pipeline â€” Interactive Demo</title>
  <meta name="description" content="Video Breakdown Pipeline: Transform YouTube videos into structured bilingual learning materials.">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=Noto+Sans+SC:wght@300;400;500;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
  <style>
    :root {
      --bg-primary: #0a0e1a;
      --bg-secondary: #111827;
      --bg-card: #1a2035;
      --bg-card-hover: #1e2640;
      --bg-glass: rgba(26, 32, 53, 0.7);
      --text-primary: #f1f5f9;
      --text-secondary: #94a3b8;
      --text-muted: #64748b;
      --accent-blue: #3b82f6;
      --accent-blue-glow: rgba(59, 130, 246, 0.15);
      --accent-purple: #8b5cf6;
      --accent-purple-glow: rgba(139, 92, 246, 0.15);
      --accent-orange: #f59e0b;
      --accent-orange-glow: rgba(245, 158, 11, 0.1);
      --accent-green: #10b981;
      --accent-green-glow: rgba(16, 185, 129, 0.1);
      --accent-red: #ef4444;
      --accent-pink: #ec4899;
      --border: rgba(148, 163, 184, 0.08);
      --border-accent: rgba(59, 130, 246, 0.2);
      --gradient-hero: linear-gradient(135deg, #3b82f6 0%, #8b5cf6 50%, #ec4899 100%);
      --gradient-card: linear-gradient(135deg, rgba(59,130,246,0.08), rgba(139,92,246,0.05));
      --shadow-lg: 0 20px 60px rgba(0,0,0,0.4);
      --radius: 16px;
      --radius-sm: 10px;
    }
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body {
      font-family: 'Inter', 'Noto Sans SC', sans-serif;
      background: var(--bg-primary);
      color: var(--text-primary);
      line-height: 1.7;
      overflow-x: hidden;
    }
    code, pre, .mono {
      font-family: 'JetBrains Mono', monospace;
    }

    /* â”€â”€â”€ Animated BG â”€â”€â”€ */
    .bg-mesh {
      position: fixed; inset: 0; z-index: -1; pointer-events: none;
      background:
        radial-gradient(ellipse 800px 400px at 20% 20%, rgba(59,130,246,0.08), transparent),
        radial-gradient(ellipse 600px 600px at 80% 60%, rgba(139,92,246,0.06), transparent),
        radial-gradient(ellipse 500px 400px at 50% 90%, rgba(236,72,153,0.05), transparent);
    }

    /* â”€â”€â”€ Hero â”€â”€â”€ */
    .hero {
      text-align: center;
      padding: 80px 24px 60px;
      position: relative;
    }
    .hero-badge {
      display: inline-flex; align-items: center; gap: 8px;
      padding: 6px 16px; border-radius: 100px;
      background: var(--accent-blue-glow);
      border: 1px solid var(--border-accent);
      font-size: 13px; font-weight: 500; color: var(--accent-blue);
      margin-bottom: 24px;
      animation: fadeInUp 0.6s ease;
    }
    .hero-badge .dot { width: 8px; height: 8px; border-radius: 50%; background: var(--accent-green); animation: pulse 2s infinite; }
    .hero h1 {
      font-size: clamp(2rem, 5vw, 3.5rem);
      font-weight: 800;
      background: var(--gradient-hero);
      -webkit-background-clip: text; -webkit-text-fill-color: transparent;
      background-clip: text;
      margin-bottom: 16px;
      animation: fadeInUp 0.6s ease 0.1s both;
    }
    .hero p {
      font-size: 18px; color: var(--text-secondary); max-width: 600px; margin: 0 auto 40px;
      animation: fadeInUp 0.6s ease 0.2s both;
    }

    /* â”€â”€â”€ Architecture Diagram â”€â”€â”€ */
    .arch-section {
      max-width: 900px; margin: 0 auto; padding: 0 24px 60px;
    }
    .section-title {
      font-size: 14px; font-weight: 600; text-transform: uppercase; letter-spacing: 2px;
      color: var(--accent-blue); margin-bottom: 32px; text-align: center;
    }
    .arch-flow {
      display: flex; flex-direction: column; align-items: center; gap: 0;
    }
    .arch-node {
      background: var(--bg-card); border: 1px solid var(--border);
      border-radius: var(--radius); padding: 20px 28px;
      width: 100%; max-width: 520px;
      transition: all 0.3s ease;
      cursor: default;
      opacity: 0; animation: fadeInUp 0.5s ease forwards;
    }
    .arch-node:hover {
      border-color: var(--border-accent);
      background: var(--bg-card-hover);
      transform: translateY(-2px);
      box-shadow: 0 8px 30px rgba(59,130,246,0.08);
    }
    .arch-node .node-icon { font-size: 24px; margin-bottom: 8px; }
    .arch-node .node-title {
      font-size: 16px; font-weight: 700; margin-bottom: 4px;
    }
    .arch-node .node-desc { font-size: 13px; color: var(--text-secondary); }
    .arch-node .node-model {
      display: inline-block; margin-top: 8px; padding: 3px 10px;
      border-radius: 6px; font-size: 11px; font-weight: 600;
      font-family: 'JetBrains Mono', monospace;
    }
    .model-gemini { background: rgba(59,130,246,0.12); color: #60a5fa; }
    .model-openai { background: rgba(16,185,129,0.12); color: #34d399; }
    .model-claude { background: rgba(245,158,11,0.12); color: #fbbf24; }
    .arch-arrow {
      width: 2px; height: 36px;
      background: linear-gradient(to bottom, var(--accent-blue), var(--accent-purple));
      border-radius: 2px;
      position: relative;
      opacity: 0; animation: fadeIn 0.4s ease forwards;
    }
    .arch-arrow::after {
      content: ''; position: absolute; bottom: -5px; left: 50%; transform: translateX(-50%);
      border: 5px solid transparent; border-top-color: var(--accent-purple);
    }

    /* â”€â”€â”€ Demo Section â”€â”€â”€ */
    .demo-section {
      max-width: 1100px; margin: 0 auto; padding: 60px 24px 80px;
    }
    .demo-header {
      text-align: center; margin-bottom: 40px;
    }
    .demo-header h2 {
      font-size: 28px; font-weight: 700; margin-bottom: 8px;
    }
    .demo-header p { color: var(--text-secondary); }

    /* Input Panel */
    .input-panel {
      display: grid; grid-template-columns: 1fr 1fr; gap: 20px;
      margin-bottom: 32px;
    }
    @media (max-width: 768px) { .input-panel { grid-template-columns: 1fr; } }
    .input-card {
      background: var(--bg-card); border: 1px solid var(--border);
      border-radius: var(--radius); padding: 24px;
      transition: border-color 0.3s;
    }
    .input-card:hover { border-color: var(--border-accent); }
    .input-card .card-label {
      display: flex; align-items: center; gap: 8px;
      font-size: 12px; font-weight: 600; text-transform: uppercase;
      letter-spacing: 1.5px; color: var(--text-muted); margin-bottom: 12px;
    }
    .input-card textarea, .input-card .persona-display {
      width: 100%; background: var(--bg-secondary); border: 1px solid var(--border);
      border-radius: var(--radius-sm); padding: 14px; color: var(--text-primary);
      font-family: 'JetBrains Mono', monospace; font-size: 12.5px;
      line-height: 1.6; resize: none;
    }
    .input-card textarea { height: 200px; outline: none; }
    .input-card textarea:focus { border-color: var(--accent-blue); }
    .persona-display {
      height: 200px; overflow-y: auto;
    }
    .persona-display h4 { font-family: 'Inter', 'Noto Sans SC', sans-serif; font-size: 14px; color: var(--accent-purple); margin-bottom: 8px; }
    .persona-display li { margin-left: 16px; margin-bottom: 2px; }

    /* Run Button */
    .run-btn-wrapper { text-align: center; margin-bottom: 40px; }
    .run-btn {
      display: inline-flex; align-items: center; gap: 10px;
      padding: 14px 36px; border: none; border-radius: 100px;
      background: var(--gradient-hero);
      color: #fff; font-size: 16px; font-weight: 700;
      cursor: pointer; position: relative; overflow: hidden;
      transition: transform 0.2s, box-shadow 0.3s;
    }
    .run-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 30px rgba(59,130,246,0.3);
    }
    .run-btn:active { transform: translateY(0); }
    .run-btn.running {
      pointer-events: none; opacity: 0.85;
    }
    .run-btn .spinner {
      width: 18px; height: 18px; border: 2px solid rgba(255,255,255,0.3);
      border-top-color: #fff; border-radius: 50%; display: none;
      animation: spin 0.7s linear infinite;
    }
    .run-btn.running .spinner { display: inline-block; }
    .run-btn.running .btn-icon { display: none; }

    /* Output Panels */
    .output-panels {
      display: none;
      flex-direction: column; gap: 28px;
    }
    .output-panels.visible { display: flex; }

    .output-card {
      background: var(--bg-card); border: 1px solid var(--border);
      border-radius: var(--radius); overflow: hidden;
      opacity: 0; transform: translateY(20px);
      transition: opacity 0.6s ease, transform 0.6s ease;
    }
    .output-card.visible { opacity: 1; transform: translateY(0); }
    .output-card .card-header {
      display: flex; align-items: center; justify-content: space-between;
      padding: 16px 24px; border-bottom: 1px solid var(--border);
      background: var(--gradient-card);
    }
    .card-header .header-left {
      display: flex; align-items: center; gap: 10px;
    }
    .card-header .step-badge {
      padding: 4px 12px; border-radius: 8px; font-size: 12px; font-weight: 700;
      font-family: 'JetBrains Mono', monospace;
    }
    .step-badge.step1 { background: rgba(59,130,246,0.15); color: #60a5fa; }
    .step-badge.step2 { background: rgba(139,92,246,0.15); color: #a78bfa; }
    .card-header .model-tag {
      padding: 4px 10px; border-radius: 6px; font-size: 11px;
      font-family: 'JetBrains Mono', monospace;
      background: rgba(16,185,129,0.1); color: #34d399;
    }
    .output-body {
      padding: 24px; font-size: 14px; line-height: 1.85;
      max-height: 600px; overflow-y: auto;
    }
    .output-body h2 { font-size: 20px; font-weight: 700; color: var(--accent-blue); margin: 24px 0 12px; }
    .output-body h2:first-child { margin-top: 0; }
    .output-body h3 { font-size: 16px; font-weight: 600; color: var(--accent-purple); margin: 20px 0 8px; }
    .output-body p { margin-bottom: 12px; color: var(--text-secondary); }
    .output-body strong { color: var(--text-primary); }
    .output-body em { color: var(--accent-orange); font-style: normal; }
    .output-body ul, .output-body ol { margin: 8px 0 12px 20px; color: var(--text-secondary); }
    .output-body li { margin-bottom: 4px; }
    .output-body code {
      background: rgba(59,130,246,0.1); color: #93c5fd;
      padding: 2px 7px; border-radius: 5px; font-size: 12.5px;
    }
    .output-body pre {
      background: var(--bg-secondary); border: 1px solid var(--border);
      border-radius: var(--radius-sm); padding: 16px; margin: 12px 0;
      overflow-x: auto; font-size: 12.5px; color: #93c5fd;
    }
    .output-body blockquote {
      border-left: 3px solid var(--accent-purple);
      padding: 8px 16px; margin: 12px 0;
      background: var(--accent-purple-glow);
      border-radius: 0 var(--radius-sm) var(--radius-sm) 0;
      color: var(--text-secondary);
    }
    .output-body table {
      width: 100%; border-collapse: collapse; margin: 12px 0;
      font-size: 13px;
    }
    .output-body th {
      background: var(--bg-secondary); padding: 10px 14px;
      text-align: left; font-weight: 600; border-bottom: 1px solid var(--border);
    }
    .output-body td {
      padding: 10px 14px; border-bottom: 1px solid var(--border);
      color: var(--text-secondary);
    }

    /* Progress Log */
    .progress-log {
      background: var(--bg-secondary); border: 1px solid var(--border);
      border-radius: var(--radius); padding: 20px; margin-bottom: 28px;
      font-family: 'JetBrains Mono', monospace; font-size: 13px;
      display: none; max-height: 220px; overflow-y: auto;
    }
    .progress-log.visible { display: block; }
    .log-line {
      padding: 3px 0; opacity: 0; animation: fadeIn 0.3s ease forwards;
    }
    .log-line .timestamp { color: var(--text-muted); margin-right: 8px; }
    .log-line .icon { margin-right: 4px; }

    /* â”€â”€â”€ Stats Strip â”€â”€â”€ */
    .stats-strip {
      display: grid; grid-template-columns: repeat(4, 1fr); gap: 16px;
      max-width: 900px; margin: 0 auto; padding: 0 24px 60px;
    }
    @media (max-width: 768px) { .stats-strip { grid-template-columns: repeat(2, 1fr); } }
    .stat-card {
      background: var(--bg-card); border: 1px solid var(--border);
      border-radius: var(--radius); padding: 20px; text-align: center;
      transition: all 0.3s;
    }
    .stat-card:hover { border-color: var(--border-accent); transform: translateY(-2px); }
    .stat-val { font-size: 32px; font-weight: 800; background: var(--gradient-hero); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; }
    .stat-label { font-size: 12px; color: var(--text-muted); margin-top: 4px; }

    /* â”€â”€â”€ Footer â”€â”€â”€ */
    footer {
      text-align: center; padding: 40px 24px;
      color: var(--text-muted); font-size: 13px;
      border-top: 1px solid var(--border);
    }
    footer a { color: var(--accent-blue); text-decoration: none; }

    /* â”€â”€â”€ Scrollbar â”€â”€â”€ */
    ::-webkit-scrollbar { width: 6px; }
    ::-webkit-scrollbar-track { background: transparent; }
    ::-webkit-scrollbar-thumb { background: var(--text-muted); border-radius: 3px; }
    ::-webkit-scrollbar-thumb:hover { background: var(--text-secondary); }

    /* â”€â”€â”€ Animations â”€â”€â”€ */
    @keyframes fadeInUp { from { opacity: 0; transform: translateY(15px); } to { opacity: 1; transform: translateY(0); } }
    @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
    @keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: 0.4; } }
    @keyframes spin { to { transform: rotate(360deg); } }
    @keyframes typing { from { width: 0; } to { width: 100%; } }
  </style>
</head>
<body>
  <div class="bg-mesh"></div>

  <!-- â•â•â• HERO â•â•â• -->
  <section class="hero">
    <div class="hero-badge"><span class="dot"></span> Interactive Demo â€” æ— éœ€ API Key</div>
    <h1>ğŸ¬ è§†é¢‘æ‹†è§£ Pipeline</h1>
    <p>æŠŠè‹±æ–‡ YouTube è§†é¢‘è‡ªåŠ¨æ‹†è§£æˆç»“æ„åŒ–çš„åŒè¯­å­¦ä¹ ç¬”è®°ï¼Œè®©éæ¯è¯­ç”¨æˆ·åŒæ—¶å­¦åˆ°ä¸“ä¸šæŠ€èƒ½å’Œè¯­è¨€è¡¨è¾¾</p>
  </section>

  <!-- â•â•â• ARCHITECTURE â•â•â• -->
  <section class="arch-section">
    <div class="section-title">âš™ï¸ Pipeline æ¶æ„</div>
    <div class="arch-flow">
      <div class="arch-node" style="animation-delay: 0.1s">
        <div class="node-icon">ğŸ“¥</div>
        <div class="node-title">è¾“å…¥ï¼šYouTube Transcript + ç”¨æˆ·ç”»åƒ</div>
        <div class="node-desc">è§†é¢‘æ–‡å­—ç¨¿ + ã€Œå¤–è´¸å°ç™½ã€ç­‰ç”¨æˆ·ç”»åƒå®šä¹‰ç—›ç‚¹å’Œéœ€æ±‚</div>
      </div>
      <div class="arch-arrow" style="animation-delay: 0.2s"></div>
      <div class="arch-node" style="animation-delay: 0.3s">
        <div class="node-icon">ğŸ§ </div>
        <div class="node-title">Step 1: Layer 0 â€” ä»·å€¼æ¡¥åˆ†æ</div>
        <div class="node-desc">ç”¨ Thinking æ¨¡å‹åˆ†æ"è¿™ä¸ªè§†é¢‘å’Œç›®æ ‡ç”¨æˆ·æœ‰ä»€ä¹ˆå…³ç³»"</div>
        <span class="node-model model-gemini">gemini-2.5-pro</span>
        <span class="node-model model-openai">gpt-4o fallback</span>
        <span class="node-model model-claude">claude-sonnet fallback</span>
      </div>
      <div class="arch-arrow" style="animation-delay: 0.4s"></div>
      <div class="arch-node" style="animation-delay: 0.5s">
        <div class="node-icon">ğŸ“Š</div>
        <div class="node-title">Step 2: 4-Layer Breakdown</div>
        <div class="node-desc">
          Layer 1 ğŸ”¤ è¡¨è¾¾ â†’ Layer 2 ğŸ’¡ ç­–ç•¥ â†’ Layer 3 ğŸŒ æ–‡åŒ– â†’ Layer 4 ğŸ”„ è¿ç§»
        </div>
        <span class="node-model model-gemini">gemini-2.5-pro</span>
        <span class="node-model model-claude">claude-sonnet fallback</span>
        <span class="node-model model-openai">gpt-4o fallback</span>
      </div>
      <div class="arch-arrow" style="animation-delay: 0.6s"></div>
      <div class="arch-node" style="animation-delay: 0.7s">
        <div class="node-icon">ğŸ“</div>
        <div class="node-title">è¾“å‡ºï¼šMarkdown æ‹†è§£ + Excalidraw ç™½æ¿ç¬”è®°</div>
        <div class="node-desc">ç»“æ„åŒ–å­¦ä¹ æ–‡æ¡£ + æ‰‹ç»˜é£æ ¼å¯è§†åŒ–ç¬”è®°ï¼Œå¯ç›´æ¥ç”¨ä½œè§†é¢‘è„šæœ¬åº•ç¨¿</div>
      </div>
    </div>
  </section>

  <!-- â•â•â• STATS â•â•â• -->
  <div class="stats-strip">
    <div class="stat-card"><div class="stat-val">4</div><div class="stat-label">æ‹†è§£å±‚çº§</div></div>
    <div class="stat-card"><div class="stat-val">3</div><div class="stat-label">AI æ¨¡å‹ Fallback</div></div>
    <div class="stat-card"><div class="stat-val">2</div><div class="stat-label">Pipeline Steps</div></div>
    <div class="stat-card"><div class="stat-val">âˆ</div><div class="stat-label">ç”¨æˆ·ç”»åƒæ‰©å±•</div></div>
  </div>

  <!-- â•â•â• DEMO â•â•â• -->
  <section class="demo-section" id="demo">
    <div class="demo-header">
      <h2>ğŸš€ è¯•ä¸€è¯• Pipeline</h2>
      <p>å†…ç½®æ ·æœ¬æ•°æ® â€” ç‚¹å‡»è¿è¡Œå³å¯ä½“éªŒå®Œæ•´æµç¨‹ï¼ˆæ¨¡æ‹Ÿè¾“å‡ºï¼‰</p>
    </div>

    <div class="input-panel">
      <!-- Transcript -->
      <div class="input-card">
        <div class="card-label">
          <span>ğŸ“„</span> YouTube Transcriptï¼ˆæ ·æœ¬ç‰‡æ®µï¼‰
        </div>
        <textarea id="transcriptInput" spellcheck="false">When you make a cold call, the first thing you need to understand is that you are not selling. You are not pitching. You are starting a conversation. Most sales reps get on the phone and they immediately go into pitch mode. "Hi, my name is John, I'm calling from XYZ company, we provide..." â€” and the prospect hangs up.

Here's what you should do instead. Lead with a problem statement. Something like: "Hey, I noticed that companies in your space often struggle with getting replies to their outreach emails. Is that something you're dealing with too?"

Now you're not selling. You're showing empathy. You're asking a question. And most importantly, you're giving the prospect a reason to keep talking.

The biggest mistake I see is treating cold calls like a monologue. It should be a dialogue. Ask questions. Listen. And remember â€” your tone matters more than your script. If you sound nervous, the prospect feels it. If you sound confident and relaxed, they'll stay on the line.</textarea>
      </div>
      <!-- Persona -->
      <div class="input-card">
        <div class="card-label">
          <span>ğŸ‘¤</span> ç”¨æˆ·ç”»åƒï¼šå¤–è´¸ 0-3 å¹´å°ç™½
        </div>
        <div class="persona-display">
          <h4>ğŸ“‹ åŸºæœ¬ä¿¡æ¯</h4>
          <ul>
            <li>ç»éªŒ: 0-3 å¹´å¤–è´¸ç»éªŒ</li>
            <li>è‹±è¯­æ°´å¹³: ä¸­çº§ï¼ˆèƒ½è¯»æ–‡æ¡£ï¼Œå¬åŠ›å’Œå£è¯­å¼±ï¼‰</li>
            <li>ä¸»è¦æ²Ÿé€šå·¥å…·: Cold email, WhatsApp, LinkedIn, å±•ä¼š</li>
          </ul>
          <h4 style="margin-top:12px">ğŸ”¥ æ ¸å¿ƒç—›ç‚¹</h4>
          <ul>
            <li>ğŸ“§ å†™å¥½å¼€å‘ä¿¡ä¸æ•¢å‘ï¼Œæ€•è¢«æ‹’ç»</li>
            <li>ğŸ“¢ ä¸€å¼€å£å°±æ¨äº§å“ â€” ç„¶åè¢«å¿½ç•¥</li>
            <li>ğŸ˜° è¢«æ‹’ç»å°±å´© â€” "Not interested" å°±æ€€ç–‘äººç”Ÿ</li>
            <li>ğŸ“ ä¸çŸ¥é“æ€ä¹ˆæ‰“ cold call</li>
            <li>ğŸ—£ï¸ èƒ½å†™æ¨¡æ¿ï¼Œä½†ä¸€æ‰“ç”µè¯å°±æ…Œ</li>
          </ul>
          <h4 style="margin-top:12px">ğŸ¯ å­¦ä¹ ç›®æ ‡</h4>
          <ul>
            <li>æé«˜å¼€å‘ä¿¡å›å¤ç‡</li>
            <li>æ•¢æ‰“ cold call / å‘ WhatsApp</li>
            <li>è¯´å‡º"åƒè€æ‰‹"çš„è‹±æ–‡</li>
          </ul>
        </div>
      </div>
    </div>

    <!-- Run Button -->
    <div class="run-btn-wrapper">
      <button class="run-btn" id="runBtn" onclick="runPipeline()">
        <span class="btn-icon">â–¶</span>
        <span class="spinner"></span>
        <span class="btn-text">è¿è¡Œ Pipeline</span>
      </button>
    </div>

    <!-- Progress Log -->
    <div class="progress-log" id="progressLog"></div>

    <!-- Output -->
    <div class="output-panels" id="outputPanels">
      <!-- Step 1 Output -->
      <div class="output-card" id="step1Card">
        <div class="card-header">
          <div class="header-left">
            <span class="step-badge step1">STEP 1</span>
            <span>Layer 0 â€” ä»·å€¼æ¡¥åˆ†æ</span>
          </div>
          <span class="model-tag">gemini/gemini-2.5-pro</span>
        </div>
        <div class="output-body" id="step1Output"></div>
      </div>

      <!-- Step 2 Output -->
      <div class="output-card" id="step2Card">
        <div class="card-header">
          <div class="header-left">
            <span class="step-badge step2">STEP 2</span>
            <span>4-Layer Breakdown + äº¤ä»˜ç‰©</span>
          </div>
          <span class="model-tag">gemini/gemini-2.5-pro</span>
        </div>
        <div class="output-body" id="step2Output"></div>
      </div>
    </div>
  </section>

  <footer>
    <p>Video Breakdown Pipeline Â© 2026 Â· Built with ğŸ§  Gemini + Claude + GPT</p>
    <p style="margin-top:6px"><a href="https://github.com" target="_blank">GitHub</a> Â· Designed for professionals who learn from English videos</p>
  </footer>

  <script>
    // â”€â”€â”€ Simulated Output Data â”€â”€â”€
    const STEP1_RESULT = `## ä¸€å¥è¯ä»·å€¼

è¿™æœŸè§†é¢‘ç›´æ¥å›ç­”äº†ä½ å¿ƒé‡Œé‚£ä¸ªæœ€å¤§çš„é—®é¢˜ï¼š**cold call åˆ°åº•æ˜¯å¹²ä»€ä¹ˆçš„ï¼Ÿ** ä½ ä¸€ç›´è§‰å¾—æ‰“ç”µè¯ = æ¨é”€ = è®©äººè®¨åŒï¼Œä½†è¿™ä¸ªè§†é¢‘å‘Šè¯‰ä½  â€”â€” cold call çš„æœ¬è´¨æ˜¯**å¼€å¯ä¸€æ¬¡å¯¹è¯**ï¼Œä¸æ˜¯èƒŒä¸€æ®µæ¨é”€è¯ã€‚

## ç—›ç‚¹æ˜ å°„

### ç—›ç‚¹ 1ï¼šå†™å¥½å¼€å‘ä¿¡/WhatsApp æ¶ˆæ¯ï¼Œé¼ æ ‡æ‚¬åœ¨å‘é€é”®ä¸Šä¸æ•¢ç‚¹

ä½ æ€•ä»€ä¹ˆï¼Ÿæ€•è¢«æ‹’ç»ï¼Œå¯¹å§ï¼Ÿä½†ä½ æœ‰æ²¡æœ‰æƒ³è¿‡ â€”â€” ä½ æ€•çš„ä¸æ˜¯è¢«æ‹’ç»ï¼Œä½ æ€•çš„æ˜¯"æˆ‘ä¸€å¼€å£ä»–å°±çŸ¥é“æˆ‘æ˜¯æ¥æ¨é”€çš„"ã€‚è¿™ä¸ªè§†é¢‘é‡Œæœ‰ä¸€å¥è¯ç‰¹åˆ«ç²¾å‡†ï¼š**"You are not selling. You are starting a conversation."ï¼ˆä½ ä¸æ˜¯åœ¨å–ä¸œè¥¿ï¼Œä½ æ˜¯åœ¨å¼€å§‹ä¸€æ®µå¯¹è¯ã€‚ï¼‰**

å½“ä½ æŠŠå¿ƒæ€ä»"æˆ‘è¦å–ç»™ä»–"åˆ‡æ¢æˆ"æˆ‘æƒ³é—®ä»–ä¸€ä¸ªé—®é¢˜"ï¼Œé‚£ä¸ªå‘é€æŒ‰é’®å°±æ²¡é‚£ä¹ˆå¯æ€•äº†ã€‚

### ç—›ç‚¹ 2ï¼šä¸€å¼€å£å°± "We are a professional manufacturer..."ï¼Œç„¶åå®¢æˆ·å°±æ²¡äº†

è§†é¢‘é‡Œè¯´è¿™å« **pitch mode** â€”â€” ä¸€ç§æ¨é”€æ¨¡å¼ã€‚ä½ ä¸€å¼ å˜´å°±è‡ªæˆ‘ä»‹ç» + æ¨äº§å“ï¼Œå®¢æˆ·çš„é˜²å¾¡æœºåˆ¶ç¬é—´å¯åŠ¨ï¼Œå¿ƒé‡Œæƒ³çš„æ˜¯"åˆä¸€ä¸ªæ¨é”€çš„"ã€‚

å–è€Œä»£ä¹‹çš„åšæ³•æ˜¯ï¼š**Lead with a problem statementï¼ˆç”¨é—®é¢˜å¼€å¤´ï¼‰**ã€‚æ¯”å¦‚ï¼š"I noticed companies in your space often struggle with getting replies to their outreach emails. Is that something you're dealing with too?"

ä½ ä¸ç”¨è¯´ä½ æ˜¯è°ã€ä½ å–ä»€ä¹ˆã€‚ä½ åªéœ€è¦è¯´å‡ºä»–**æ­£åœ¨ç»å†çš„å›°éš¾**ï¼Œä»–å°±ä¼šæƒ³ç»§ç»­å¬ä¸‹å»ã€‚

### ç—›ç‚¹ 3ï¼šå®¢æˆ·è¯´ "Not interested" å°±æ€€ç–‘äººç”Ÿ

è¿™æœŸè§†é¢‘æ²¡æœ‰ç›´æ¥æ•™ä½ æ€ä¹ˆå¤„ç†æ‹’ç»ï¼Œä½†å®ƒä¼ é€’äº†ä¸€ä¸ªæ›´é‡è¦çš„ä¿¡æ¯ï¼š**å¦‚æœä½ è¢«æ‹’ç»äº†ï¼Œå¾ˆå¯èƒ½ä¸æ˜¯å› ä¸ºäº§å“ä¸è¡Œã€ä¹Ÿä¸æ˜¯ä½ ä¸è¡Œ â€”â€” è€Œæ˜¯ä½ çš„æ‰“å¼€æ–¹å¼ä¸å¯¹ã€‚** ä½ ç”¨"æ¨é”€æ¨¡å¼"æ‰“å¼€ï¼Œå¯¹æ–¹å½“ç„¶ä¼šæ¡ä»¶åå°„åœ°æ‹’ç»ã€‚

### ç—›ç‚¹ 4ï¼šä¸€åˆ°æ‰“ç”µè¯å°±è„‘å­ç©ºç™½ã€ç´§å¼ åˆ°è¯­æ— ä¼¦æ¬¡

è§†é¢‘æœ€åé‚£æ®µè¯ç›´æ¥æˆ³ä¸­ä½ ï¼š**"Your tone matters more than your script. If you sound nervous, the prospect feels it."ï¼ˆä½ çš„è¯­æ°”æ¯”ä½ çš„è„šæœ¬æ›´é‡è¦ã€‚å¦‚æœä½ å¬èµ·æ¥ç´§å¼ ï¼Œå¯¹æ–¹èƒ½æ„Ÿå—åˆ°ã€‚ï¼‰** 

ä½ ä¸€ç›´åœ¨èƒŒè¯æœ¯ã€ç»ƒè„šæœ¬ï¼Œä½†é—®é¢˜å¯èƒ½ä¸åœ¨è¯ï¼Œåœ¨ä½ çš„çŠ¶æ€ã€‚

## æ·±å±‚ insight

è¿™æœŸè§†é¢‘æœ€é¢ è¦†çš„ä¸€ä¸ªè§‚ç‚¹æ˜¯ï¼š**Cold call ä¸æ˜¯ monologueï¼ˆç‹¬ç™½ï¼‰ï¼Œæ˜¯ dialogueï¼ˆå¯¹è¯ï¼‰ã€‚** 

å¤§éƒ¨åˆ†å¤–è´¸æ–°äººæ‰“ cold call çš„æ–¹å¼æ˜¯"èƒŒå¥½ä¸€æ®µè¯ç„¶åä¸€å£æ°”è¯´å®Œ"ã€‚ä½†çœŸæ­£æœ‰æ•ˆçš„æ–¹å¼æ˜¯ â€”â€” é—®é—®é¢˜ã€å¬å›ç­”ã€å†æ¥ç€èŠã€‚ä½ ä¸éœ€è¦å‡†å¤‡ä¸€æ•´é¡µçš„è¯æœ¯ï¼Œä½ åªéœ€è¦å‡†å¤‡ä¸€ä¸ªå¥½é—®é¢˜ã€‚

## æ˜å¤©å°±åš

**æ‰“å¼€ä½ ç”µè„‘é‡Œé‚£å°ä¸€ç›´æ²¡å‘çš„å¼€å‘ä¿¡ï¼ŒæŠŠç¬¬ä¸€å¥è¯ä» "We are a professional manufacturer of..." æ”¹æˆä¸€ä¸ªç—›ç‚¹é—®é¢˜ã€‚** æ¯”å¦‚ï¼š"I noticed that many [å®¢æˆ·è¡Œä¸š] companies struggle with [ä¸€ä¸ªå…·ä½“é—®é¢˜]. Is that something you're seeing too?" ç„¶åï¼ŒæŒ‰å‘é€ã€‚`;

    const STEP2_RESULT = `## 1. è¿™æœŸè§†é¢‘å’Œä½ æœ‰ä»€ä¹ˆå…³ç³»

ä½ æ˜¯ä¸æ˜¯æœ‰è¿‡è¿™æ ·çš„ç»å†ï¼Ÿ

æ‰¾åˆ°ä¸€ä¸ªæ½œåœ¨å®¢æˆ·çš„è”ç³»æ–¹å¼ï¼Œå…´å†²å†²å†™å¥½ä¸€å°è‹±æ–‡å¼€å‘ä¿¡ï¼Œç„¶å â€”â€” å°±æ”¾åœ¨é‚£äº†ã€‚é¼ æ ‡åœ¨å‘é€æŒ‰é’®ä¸Šæ‚¬äº† 3 ç§’ï¼Œæœ€åè¿˜æ˜¯ç‚¹äº†å…³é—­ã€‚

æˆ–è€…ä½ ç»ˆäºé¼“èµ·å‹‡æ°”æ‰“äº†ä¸€ä¸ª cold callï¼Œç”µè¯æ¥é€šçš„é‚£ä¸€ç§’ï¼Œè„‘å­ä¸€ç‰‡ç©ºç™½ã€‚ä½ å¼€å£å°±æ˜¯ "Hello, this is [åå­—] from [å…¬å¸], we are a professional manufacturer of..."ï¼Œå¯¹é¢ç›´æ¥æŒ‚äº†ã€‚

è¿™ä¸æ˜¯å› ä¸ºä½ è‹±è¯­ä¸å¥½ï¼Œä¹Ÿä¸æ˜¯å› ä¸ºä½ çš„äº§å“ä¸è¡Œã€‚è¿™ä¸ªè§†é¢‘ä¼šå‘Šè¯‰ä½ ï¼š**æ˜¯ä½ æŠŠ cold call ç†è§£é”™äº†ã€‚**

---

## 2. "ä¸€å¼€å£å°±æ¨äº§å“" â€” ä¸ºä»€ä¹ˆä½ æ€»è¢«æŒ‚ç”µè¯

### ä½ çš„ç°å®
ä½ å†™å¥½ä¸€æ®µè‡ªæˆ‘ä»‹ç»ï¼ŒèƒŒå¾—æ»šç“œçƒ‚ç†Ÿï¼Œæ‰“ç”µè¯è¿‡å»ä¸€å­—ä¸å·®åœ°å¿µå‡ºæ¥ã€‚å¯¹æ–¹æ²‰é»˜ 2 ç§’ï¼Œè¯´ "I'm not interested, thanks"ï¼ŒæŒ‚äº†ã€‚ä½ å¿ƒæƒ³ï¼šæ˜¯æˆ‘è‹±è¯­è¯´å¾—ä¸å¥½å—ï¼Ÿ

### è®¤çŸ¥é‡æ„
ä¸æ˜¯ä½ è‹±è¯­ä¸å¥½ï¼Œæ˜¯ä½ ä¸€å¼€å£å°±è¿›å…¥äº† **pitch modeï¼ˆæ¨é”€æ¨¡å¼ï¼‰**ã€‚å®¢æˆ·çš„å¤§è„‘æœ‰ä¸€ä¸ªè‡ªåŠ¨é˜²å¾¡æœºåˆ¶ â€”â€” åªè¦å¬åˆ°"æ¨é”€å‘³"ï¼Œå°±ä¼šæœ¬èƒ½åœ°æƒ³æŒ‚æ‰ã€‚

### å…·ä½“åšæ³•

åŸè§†é¢‘æ•™çš„æ–¹æ³•å« **Lead with a problem statementï¼ˆç”¨ç—›ç‚¹é—®é¢˜å¼€å¤´ï¼‰**ï¼š

**ğŸ”¤ å…³é”®è¡¨è¾¾**

| è‹±æ–‡ | ä¸­æ–‡ | è¯­æ„Ÿè¯´æ˜ |
|:---|:---|:---|
| "I noticed that..." | "æˆ‘æ³¨æ„åˆ°..." | æ¯” "I want to tell you" å¥½ 100 å€ï¼Œæš—ç¤ºä½ åšè¿‡åŠŸè¯¾ |
| "companies in your space" | "ä½ ä»¬è¿™ä¸ªè¡Œä¸šçš„å…¬å¸" | **in your space** æ˜¯éå¸¸åœ°é“çš„å•†åŠ¡è¯´æ³•ï¼Œæ¯” "in your industry" æ›´éšæ„è‡ªç„¶ |
| "Is that something you're dealing with too?" | "è¿™ä¹Ÿæ˜¯ä½ æ­£åœ¨é¢å¯¹çš„å—ï¼Ÿ" | è¿™æ˜¯ä¸€ä¸ª **å¼€æ”¾å¼é—®é¢˜**ï¼Œé‚€è¯·å¯¹æ–¹è¯´è¯ |

**ğŸ’¡ ç­–ç•¥è§£æ**

è¿™ä¸æ˜¯éšä¾¿é—®çš„ä¸€ä¸ªé—®é¢˜ã€‚å®ƒç”¨äº†ä¸€ä¸ªå¿ƒç†å­¦æŠ€å·§å« **social proofï¼ˆç¤¾ä¼šè®¤åŒï¼‰**ï¼š"companies in your space" = "ä½ çš„åŒè¡Œä»¬éƒ½æœ‰è¿™ä¸ªé—®é¢˜"ã€‚å½“å¯¹æ–¹å¬åˆ°åŒè¡Œä¹Ÿåœ¨æŒ£æ‰ï¼Œä»–çš„é˜²å¾¡ä¼šé™ä½ï¼Œå› ä¸ºä»–è§‰å¾—"ä½ æ‡‚æˆ‘çš„å¤„å¢ƒ"ã€‚

**ğŸŒ æ–‡åŒ–å·®å¼‚æ³¨æ„**

åœ¨ç¾å›½å•†åŠ¡æ–‡åŒ–ä¸­ï¼Œå¼€é—¨è§å±±åœ°é—®ä¸€ä¸ªé—®é¢˜æ˜¯å¾ˆæ­£å¸¸çš„ã€‚ä½†å¦‚æœä½ çš„å®¢æˆ·æ˜¯å¾·å›½äººï¼Œä»–ä»¬å¯èƒ½æ›´ä¹ æƒ¯å…ˆæœ‰æ­£å¼çš„è‡ªæˆ‘ä»‹ç»ã€‚æ—¥æœ¬å®¢æˆ·åˆ™ç»å¯¹ä¸èƒ½ä¸€å¼€å§‹å°±é—®é—®é¢˜ â€”â€” è¿™ä¼šè¢«è®¤ä¸ºæ˜¯ä¸ç¤¼è²Œçš„ã€‚

**âœ… é€‚ç”¨åœºæ™¯**
- Cold call å¼€åœºç™½
- LinkedIn message ç¬¬ä¸€å¥
- å±•ä¼šä¸Šç¬¬ä¸€æ¬¡æ­è¯

**âŒ ä¸é€‚ç”¨åœºæ™¯**
- å·²ç»æœ‰è¿‡è”ç³»çš„å®¢æˆ·
- æ­£å¼çš„ emailï¼ˆemail éœ€è¦æ›´å¤šä¸Šä¸‹æ–‡ï¼‰

### ğŸ”„ ä½ çš„å¤–è´¸ç‰ˆæœ¬

\`\`\`
æ¨¡æ¿ï¼ˆè‹±æ–‡ï¼‰:
"Hi [Name], I noticed that a lot of [è¡Œä¸š] companies 
struggle with [å…·ä½“é—®é¢˜, e.g. getting replies to cold emails / 
finding the right buyers at trade shows]. 
Is that something you're experiencing too?"

ç¤ºä¾‹ï¼ˆå‡è®¾ä½ å–åŒ…è£…ææ–™ï¼‰:
"Hi Sarah, I noticed that a lot of food packaging companies 
struggle with finding sustainable materials that don't increase costs. 
Is that something you're dealing with too?"
\`\`\`

---

## 3. æ·±å±‚æ´å¯Ÿ

è¿™ä¸ªè§†é¢‘æœ€æ·±å±‚çš„æ´å¯Ÿæ˜¯ï¼š**Tone > Scriptï¼ˆè¯­æ°” > è„šæœ¬ï¼‰ã€‚**

> "Your tone matters more than your script. If you sound nervous, the prospect feels it. If you sound confident and relaxed, they'll stay on the line."

ä½ èŠ±äº† 3 å¤©èƒŒè¯æœ¯ï¼Œä½†çœŸæ­£å†³å®šç”µè¯æˆè´¥çš„ä¸æ˜¯ä½ è¯´äº†ä»€ä¹ˆ â€”â€” æ˜¯ä½ çš„**å£°éŸ³çŠ¶æ€**ã€‚ç´§å¼ çš„äººè¯´ä»€ä¹ˆéƒ½åƒæ¨é”€ï¼Œæ”¾æ¾çš„äººéšä¾¿è¯´ä»€ä¹ˆéƒ½åƒåœ¨èŠå¤©ã€‚

å¯¹ä½ æ¥è¯´ï¼Œè¿™æ„å‘³ç€ï¼šä¸å…¶å†æ”¹ 10 éè„šæœ¬ï¼Œä¸å¦‚å…ˆç»ƒä¹ ç”¨**å¹³é™çš„è¯­æ°”**è¯´å‡ºç¬¬ä¸€å¥è¯ã€‚

---

## 4. å³ç”¨å·¥å…·åŒ…

### ğŸ“‹ é€ŸæŸ¥å¡ â€” Cold Call æ ¸å¿ƒå¥å‹

\`\`\`
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Cold Call é€ŸæŸ¥å¡ Â· å¤–è´¸ç‰ˆ                    â”‚
â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
â”‚                                              â”‚
â”‚  âŒ ä¸è¦è¿™æ ·å¼€å¤´:                             â”‚
â”‚  "Hi, I'm [name] from [company],             â”‚
â”‚   we are a professional manufacturer of..."  â”‚
â”‚                                              â”‚
â”‚  âœ… è¿™æ ·å¼€å¤´:                                â”‚
â”‚  "Hi [Name], I noticed that companies        â”‚
â”‚   in your space often struggle with [é—®é¢˜].  â”‚
â”‚   Is that something you're dealing with?"    â”‚
â”‚                                              â”‚
â”‚  ğŸ¯ å…³é”®åŸåˆ™:                                â”‚
â”‚  Â· ä¸æ¨é”€ï¼Œé—®é—®é¢˜ (dialogue, not monologue)  â”‚
â”‚  Â· å…ˆè¯´ç—›ç‚¹ï¼Œå†è¯´è§£å†³æ–¹æ¡ˆ                     â”‚
â”‚  Â· è¯­æ°” > è„šæœ¬ (tone > script)               â”‚
â”‚                                              â”‚
â”‚  ğŸ“Œ ä¸‡èƒ½å¥å‹:                                â”‚
â”‚  Â· "I noticed that..." (è¡¨ç¤ºä½ åšè¿‡åŠŸè¯¾)       â”‚
â”‚  Â· "Is that something you're seeing too?"    â”‚
â”‚  Â· "companies in your space" (=ä½ çš„åŒè¡Œ)      â”‚
â”‚                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
\`\`\`

### âŒâœ… Mistake Map

| âŒ å¸¸è§åšæ³• | âœ… æ­£ç¡®åšæ³• | ä¸ºä»€ä¹ˆ |
|:---|:---|:---|
| ä¸€å¼€å£å°±è‡ªæˆ‘ä»‹ç» | ç”¨ç—›ç‚¹é—®é¢˜å¼€å¤´ | é™ä½å¯¹æ–¹é˜²å¾¡ |
| èƒŒå¥½ä¸€æ®µè¯å¿µå‡ºæ¥ | å‡†å¤‡ä¸€ä¸ªå¥½é—®é¢˜ï¼Œç„¶åå¬ | Cold call = dialogue |
| åå¤æ”¹è„šæœ¬ã€ç»ƒæªè¾ | ç»ƒä¹ æ”¾æ¾çš„è¯­æ°”å’ŒçŠ¶æ€ | Tone > Script |
| "We are professional..." | "I noticed that..." | åšè¿‡åŠŸè¯¾ vs ç¾¤å‘ |
| è¢«æ‹’ç»å°±ä¸æ•¢å†æ‰“ | æ¢ä¸€ä¸ªå¼€å¤´æ–¹å¼å†è¯• | è¢«æ‹’ç»çš„æ˜¯æ–¹å¼ï¼Œä¸æ˜¯ä½  |

### âš¡ æ˜å¤©å°±åš

**æ‰“å¼€ä½ ç”µè„‘é‡Œé‚£å°æ²¡å‘çš„å¼€å‘ä¿¡ï¼ŒæŠŠç¬¬ä¸€å¥è¯ä»è‡ªæˆ‘ä»‹ç»æ”¹æˆä¸€ä¸ªç—›ç‚¹é—®é¢˜ã€‚** ä¸æ±‚å®Œç¾ï¼Œå°±ç”¨è¿™ä¸ªæ¨¡æ¿ï¼š

> "I noticed that [å®¢æˆ·è¡Œä¸š] companies often struggle with [ä¸€ä¸ªé—®é¢˜]. Is that something you're dealing with?"

ç„¶åæŒ‰å‘é€ã€‚å°±è¿™ä¸€ä»¶äº‹ã€‚

### ğŸ“– å»¶ä¼¸é˜…è¯»

- **SPIN Selling** (Neil Rackham) â€” è§†é¢‘é‡Œ"é—®é—®é¢˜è€Œä¸æ˜¯æ¨é”€"çš„ç†å¿µæ¥æº
- **The Challenger Sale** â€” å¦ä¸€ä¸ªå…³äº"ç”¨æ´å¯Ÿå¼€å¯å¯¹è¯"çš„æ–¹æ³•è®º
- **Fanatical Prospecting** (Jeb Blount) â€” ä¸“é—¨è®² cold call å¿ƒæ€å’ŒèŠ‚å¥`;

    // â”€â”€â”€ Pipeline Simulation â”€â”€â”€
    let isRunning = false;

    function addLog(message, icon = 'ğŸ“') {
      const log = document.getElementById('progressLog');
      const now = new Date();
      const ts = `${String(now.getHours()).padStart(2,'0')}:${String(now.getMinutes()).padStart(2,'0')}:${String(now.getSeconds()).padStart(2,'0')}`;
      const line = document.createElement('div');
      line.className = 'log-line';
      line.innerHTML = `<span class="timestamp">[${ts}]</span><span class="icon">${icon}</span> ${message}`;
      log.appendChild(line);
      log.scrollTop = log.scrollHeight;
    }

    function sleep(ms) { return new Promise(resolve => setTimeout(resolve, ms)); }

    // Simple markdown-to-HTML renderer
    function renderMarkdown(md) {
      let html = md;
      // Code blocks
      html = html.replace(/```([^`]*?)```/gs, (_, code) => `<pre>${code.trim()}</pre>`);
      // Inline code
      html = html.replace(/`([^`]+)`/g, '<code>$1</code>');
      // Tables
      html = html.replace(/^\|(.+)\|$/gm, (match) => {
        return match;
      });
      // Convert table blocks
      const lines = html.split('\n');
      let result = [];
      let inTable = false;
      let headerDone = false;
      for (let i = 0; i < lines.length; i++) {
        const line = lines[i].trim();
        if (line.startsWith('|') && line.endsWith('|')) {
          if (!inTable) {
            result.push('<table>');
            inTable = true;
            headerDone = false;
          }
          if (line.match(/^\|[\s\-:]+\|$/)) {
            headerDone = true;
            continue;
          }
          const cells = line.split('|').filter(c => c !== '');
          const tag = !headerDone ? 'th' : 'td';
          result.push('<tr>' + cells.map(c => `<${tag}>${c.trim()}</${tag}>`).join('') + '</tr>');
          if (!headerDone) headerDone = true;
        } else {
          if (inTable) { result.push('</table>'); inTable = false; headerDone = false; }
          result.push(lines[i]);
        }
      }
      if (inTable) result.push('</table>');
      html = result.join('\n');
      // Headers
      html = html.replace(/^### (.+)$/gm, '<h3>$1</h3>');
      html = html.replace(/^## (.+)$/gm, '<h2>$1</h2>');
      // Bold
      html = html.replace(/\*\*([^*]+)\*\*/g, '<strong>$1</strong>');
      // Italic / emphasis
      html = html.replace(/\*([^*]+)\*/g, '<em>$1</em>');
      // Blockquotes
      html = html.replace(/^> (.+)$/gm, '<blockquote>$1</blockquote>');
      // Merge consecutive blockquotes
      html = html.replace(/<\/blockquote>\n<blockquote>/g, '<br>');
      // Unordered lists
      html = html.replace(/^- (.+)$/gm, '<li>$1</li>');
      html = html.replace(/(<li>.*<\/li>\n?)+/gs, (match) => `<ul>${match}</ul>`);
      // Horizontal rules
      html = html.replace(/^---$/gm, '<hr style="border:none;border-top:1px solid var(--border);margin:20px 0">');
      // Paragraphs
      html = html.replace(/\n\n/g, '</p><p>');
      html = '<p>' + html + '</p>';
      html = html.replace(/<p>\s*<(h[23]|ul|ol|table|pre|hr|blockquote)/g, '<$1');
      html = html.replace(/<\/(h[23]|ul|ol|table|pre|hr|blockquote)>\s*<\/p>/g, '</$1>');
      return html;
    }

    async function runPipeline() {
      if (isRunning) return;
      isRunning = true;

      const btn = document.getElementById('runBtn');
      const log = document.getElementById('progressLog');
      const panels = document.getElementById('outputPanels');
      const step1Card = document.getElementById('step1Card');
      const step2Card = document.getElementById('step2Card');

      btn.classList.add('running');
      btn.querySelector('.btn-text').textContent = 'è¿è¡Œä¸­...';
      log.innerHTML = '';
      log.classList.add('visible');
      panels.classList.remove('visible');
      step1Card.classList.remove('visible');
      step2Card.classList.remove('visible');

      // Simulate pipeline
      addLog('Pipeline å¯åŠ¨', 'ğŸ¬');
      await sleep(500);
      addLog('ğŸ“‹ ç”¨æˆ·ç”»åƒ: å¤–è´¸ 0-3 å¹´å°ç™½', 'ğŸ“‹');
      await sleep(300);
      const transcript = document.getElementById('transcriptInput').value;
      addLog(`ğŸ“„ Transcript é•¿åº¦: ${transcript.length} å­—ç¬¦`, 'ğŸ“„');
      await sleep(500);

      addLog('â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€', '');
      addLog('Step 1: Layer 0 â€” ä»·å€¼æ¡¥åˆ†æ', 'ğŸ§ ');
      await sleep(400);
      addLog('ğŸ¤– [Step 1] å°è¯• gemini/gemini-2.5-pro...', 'ğŸ”„');
      await sleep(1800);
      addLog('âœ… [Step 1] gemini/gemini-2.5-pro æˆåŠŸ', 'âœ…');
      await sleep(300);

      // Show Step 1
      panels.classList.add('visible');
      document.getElementById('step1Output').innerHTML = renderMarkdown(STEP1_RESULT);
      setTimeout(() => step1Card.classList.add('visible'), 50);
      await sleep(600);

      addLog('â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€', '');
      addLog('Step 2: 4-Layer Breakdown + äº¤ä»˜ç‰©', 'ğŸ“Š');
      await sleep(400);
      addLog('ğŸ¤– [Step 2] å°è¯• gemini/gemini-2.5-pro...', 'ğŸ”„');
      await sleep(2500);
      addLog('âœ… [Step 2] gemini/gemini-2.5-pro æˆåŠŸ', 'âœ…');
      await sleep(300);

      // Show Step 2
      document.getElementById('step2Output').innerHTML = renderMarkdown(STEP2_RESULT);
      setTimeout(() => step2Card.classList.add('visible'), 50);
      await sleep(400);

      addLog('â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•', '');
      addLog('âœ… Pipeline å®Œæˆ!', 'ğŸ‰');
      addLog('Layer 0:   output/20260218_step1_layer0.md', 'ğŸ“');
      addLog('Breakdown: output/20260218_step2_breakdown.md', 'ğŸ“');
      addLog('æ¨¡å‹: Step1=gemini/gemini-2.5-pro, Step2=gemini/gemini-2.5-pro', 'ğŸ¤–');

      btn.classList.remove('running');
      btn.querySelector('.btn-text').textContent = 'é‡æ–°è¿è¡Œ';
      isRunning = false;

      // Scroll to output
      setTimeout(() => {
        document.getElementById('outputPanels').scrollIntoView({ behavior: 'smooth', block: 'start' });
      }, 200);
    }
  </script>
</body>
</html>
